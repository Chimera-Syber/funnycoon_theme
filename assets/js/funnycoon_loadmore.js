
(function(doc){class LoadMore{constructor(){this.ajaxUrl=siteConfig?.ajaxUrl??'';this.ajaxNonce=siteConfig?.ajax_nonce??'';this.loadMoreBtn=$('#load-more');this.init();}
init(){if(!this.loadMoreBtn.length){return;}
this.totalPagesCount=$('#post-pagination').data('max-pages');this.loadMoreBtn.on('click',()=>this.handleLoadMorePosts());}
handleLoadMorePosts(){const page=this.loadMoreBtn.data('page');if(!page){return null;}
const nextPage=parseInt(page)+1;this.loadMoreBtn.text('Загрузка...');$.ajax({url:this.ajaxUrl,type:'post',data:{page:page,action:'load_more',ajax_nonce:this.ajaxNonce,},success:(response)=>{if(0===parseInt(response)){this.loadMoreBtn.off('click',()=>this.handleLoadMorePosts());this.loadMoreBtn.remove();}else{this.loadMoreBtn.data('page',nextPage);$('#load-more-content').append(response);this.removeLoadMoreIfOnLastPage(nextPage);this.loadMoreBtn.text('Загрузить еще');}},error:(response)=>{console.log(response);},});}
removeLoadMoreIfOnLastPage(nextPage){if(nextPage+1>this.totalPagesCount){this.loadMoreBtn.remove();}}}
new LoadMore();})(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bm55Y29vbl9sb2FkbW9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBRSxDQUFFLENBT2YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBSVgsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQ3hDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUM3QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FFcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2YsQ0FDUDtBQUNPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBRUgsQ0FBQyxDQUFFLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBRSxDQUM3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNWLENBQ1g7QUFDVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUNsRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FFcEUsQ0FZRjtBQUNFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBRWxCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FDNUMsQ0FBQyxDQUFFLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FDVixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDZixDQUNYO0FBQ1csQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUUsQ0FBQyxDQUVyQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUVwQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQ0osQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNqQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDWixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FDRixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ25CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDOUIsQ0FBQyxDQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUMsQ0FBRSxDQUNyQixDQUFDLENBQUUsQ0FBRSxDQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUUsQ0FDOUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FDakUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUM3QixDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FDSCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FDekMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUM1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FDM0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQzFDLENBQ0osQ0FBQyxDQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFFLENBQ2xDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQ3hCLENBQUMsQ0FFTyxDQUFDLENBQUMsQ0FDTixDQU1GO0FBQ0osQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FDdEMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBRSxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQzFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDMUIsQ0FDRCxDQUVFLENBQ0g7QUFDRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FFbEIsQ0FBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMiLCJmaWxlIjoiZnVubnljb29uX2xvYWRtb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbiAoIGRvYyApIHtcclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBDbGFzcyBMb2FkbW9yZVxyXG4gICAgICogXHJcbiAgICAgKi9cclxuXHJcbiAgICBjbGFzcyBMb2FkTW9yZSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29uc3RydWN0b3IgXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWpheFVybCA9IHNpdGVDb25maWc/LmFqYXhVcmwgPz8gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuYWpheE5vbmNlID0gc2l0ZUNvbmZpZz8uYWpheF9ub25jZSA/PyAnJztcclxuICAgICAgICAgICAgdGhpcy5sb2FkTW9yZUJ0biA9ICQoICcjbG9hZC1tb3JlJyApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0KCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhIHRoaXMubG9hZE1vcmVCdG4ubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUGFnZXNDb3VudCA9ICQoICcjcG9zdC1wYWdpbmF0aW9uJyApLmRhdGEoICdtYXgtcGFnZXMnICk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZE1vcmVCdG4ub24oICdjbGljaycsICgpID0+IHRoaXMuaGFuZGxlTG9hZE1vcmVQb3N0cygpICk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcblx0XHQgKiBMb2FkIG1vcmUgcG9zdHMuXHJcblx0XHQgKlxyXG5cdFx0ICogMS5NYWtlIGFuIGFqYXggcmVxdWVzdCwgYnkgaW5jcmVtZW50aW5nIHRoZSBwYWdlIG5vLiBieSBvbmUgb24gZWFjaCByZXF1ZXN0LlxyXG5cdFx0ICogMi5BcHBlbmQgbmV3L21vcmUgcG9zdHMgdG8gdGhlIGV4aXN0aW5nIGNvbnRlbnQuXHJcblx0XHQgKiAzLklmIHRoZSByZXNwb25zZSBpcyAwICggd2hpY2ggbWVhbnMgbm8gbW9yZSBwb3N0cyBhdmFpbGFibGUgKSwgcmVtb3ZlIHRoZSBsb2FkLW1vcmUgYnV0dG9uIGZyb20gRE9NLlxyXG5cdFx0ICogT25jZSB0aGUgbG9hZC1tb3JlIGJ1dHRvbiBnZXRzIHJlbW92ZWQsIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlckFQSSBjYWxsYmFjayB3aWxsIG5vdCBiZSB0cmlnZ2VyZWQsIHdoaWNoIG1lYW5zXHJcblx0XHQgKiB0aGVyZSB3aWxsIGJlIG5vIGZ1cnRoZXIgYWpheCByZXF1ZXN0IHNpbmNlIHRoZXJlIHdvbid0IGJlIGFueSBtb3JlIHBvc3RzIGF2YWlsYWJsZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcmV0dXJuIG51bGxcclxuXHRcdCAqL1xyXG4gICAgICAgIGhhbmRsZUxvYWRNb3JlUG9zdHMoKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBwYWdlIG5vIGZyb20gZGF0YSBhdHRyaWJ1dGUgb2YgbG9hZC1tb3JlIGJ1dHRvbi5cclxuICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubG9hZE1vcmVCdG4uZGF0YSggJ3BhZ2UnICk7XHJcbiAgICAgICAgICAgIGlmICggISBwYWdlICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYWdlID0gcGFyc2VJbnQoIHBhZ2UgKSArIDE7IC8vIEluY3JlbWVudCBjb3VudCBieSBvbmUuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRNb3JlQnRuLnRleHQoJ9CX0LDQs9GA0YPQt9C60LAuLi4nKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCgge1xyXG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLmFqYXhVcmwsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdsb2FkX21vcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IHRoaXMuYWpheE5vbmNlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICggcmVzcG9uc2UgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAwID09PSBwYXJzZUludCggcmVzcG9uc2UgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTW9yZUJ0bi5vZmYoICdjbGljaycsICgpID0+IHRoaXMuaGFuZGxlTG9hZE1vcmVQb3N0cygpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZE1vcmVCdG4ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTW9yZUJ0bi5kYXRhKCAncGFnZScsIG5leHRQYWdlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoICcjbG9hZC1tb3JlLWNvbnRlbnQnICkuYXBwZW5kKCByZXNwb25zZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxvYWRNb3JlSWZPbkxhc3RQYWdlKCBuZXh0UGFnZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlQnRuLnRleHQoJ9CX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6ICggcmVzcG9uc2UgKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggcmVzcG9uc2UgKTtcclxuXHRcdFx0XHR9LFxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuXHRcdCAqIFJlbW92ZSBMb2FkIG1vcmUgQnV0dG9uIElmIG9uIGxhc3QgcGFnZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2ludH0gbmV4dFBhZ2UgTmV3IFBhZ2UuXHJcblx0XHQgKi9cclxuXHRcdHJlbW92ZUxvYWRNb3JlSWZPbkxhc3RQYWdlKCBuZXh0UGFnZSApIHtcclxuXHRcdFx0aWYgKCBuZXh0UGFnZSArIDEgPiB0aGlzLnRvdGFsUGFnZXNDb3VudCApIHtcclxuXHRcdFx0XHR0aGlzLmxvYWRNb3JlQnRuLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG5ldyBMb2FkTW9yZSgpO1xyXG5cclxufSApKCBkb2N1bWVudCApOyJdfQ==
