jQuery(document).ready(function(s){function e(e){s(e).on("submit",function(e){if(!s(this).valid())return!1;s(".form-message",this).css("opacity",1),s(".form-message",this).show().text(ajax_auth_object.loadingmessage),action="ajaxlogin",username=s("#username").val(),password=s(" #password").val(),email="",security=s("#security").val(),remember=s("#remember_me").is(":checked")?"true":"false","register"==s(this).attr("id")&&(action="ajaxregister",username=s("#signonname").val(),password=s("#signonpassword").val(),email=s("#signonemail").val(),security=s("#signonsecurity").val()),ctrl=s(this),s.ajax({type:"POST",dataType:"json",url:ajax_auth_object.ajaxurl,data:{action:action,username:username,password:password,email:email,security:security,remember:remember},success:function(e){s(".form-message",ctrl).text(e.message),s(".form-message",ctrl).css("opacity",1),1==e.loggedin&&(document.location.href=ajax_auth_object.redirecturl)}}),e.preventDefault()})}s("form#login").validate({rules:{username:{required:!0},password:{required:!0,minlength:5}},messages:{username:{required:"Это поле необходимо для заполнения"},password:{required:"Это поле необходимо для заполнения",minlength:"Пароль должен состоять минимум из 5 символов"}},submitHandler:e("form#login")}),s("form#register").validate({rules:{signonemail:{required:!0,email:!0},signonpassword:{required:!0,minlength:5},signonpassword2:{required:!0,minlength:5,equalTo:"#signonpassword"}},messages:{signonemail:{required:"Это поле необходимо для заполнения",email:"Необходимо ввести корректный email"},signonpassword:{required:"Это поле необходимо для заполнения",minlength:"Пароль должен состоять минимум из 5 символов"},signonpassword2:{required:"Это поле необходимо для заполнения",minlength:"Пароль должен состоять минимум из 5 символов",equalTo:"Пароли должны совпадать"}},submitHandler:e("form#register")}),s("form#forgotpassword").validate({rules:{user_login:{required:!0}},messages:{user_login:{required:"Это поле необходимо для заполнения"}},submitHandler:void s("form#forgotpassword").on("submit",function(e){if(!s(this).valid())return!1;s(".form-message",this).show().text(ajax_auth_object.loadingmessage),ctrl=s(this),s.ajax({type:"POST",dataType:"json",url:ajax_auth_object.ajaxurl,data:{action:"ajaxforgotpassword",user_login:s("#user_login").val(),security:s("#forgotsecurity").val()},success:function(e){s(".form-message",ctrl).text(e.message),s(".form-message",ctrl).css("opacity",1)}}),e.preventDefault()})})});